fileVersion: 1
id: bcb42110-db35-412b-882d-55d2a3447827
name: WRK_JSON_DEMO
operation:
  config:
    groupByAll: false
    insertStrategy: INSERT
    orderby: false
    orderbycolumn:
      items:
        - {}
    postSQL: ""
    preSQL: ""
    selectDistinct: false
    testsEnabled: false
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: EDW
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 86ef115e-0838-4df9-8d81-bd5ee283ef13
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: VARIANT
        description: ""
        name: V
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 0b2abc38-f28f-4f76-a26c-395f0bda9e46
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: DOUBLE
        description: ""
        name: AGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: "\"JSON_DEMO\".\"V\":\"age\"::DOUBLE"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: ce690aa0-31cb-4160-b95b-c0c3fcda2ad0
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: STRING
        description: ""
        name: CHILDREN_AGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: "\"V_children\".value:\"age\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: fba9a2e9-09b9-48dd-a3ee-9f4f2b8bfb98
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: STRING
        description: ""
        name: CHILDREN_GENDER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: "\"V_children\".value:\"gender\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: d04d2180-5c1d-4a2b-baa6-34dfe7b78713
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: STRING
        description: ""
        name: CHILDREN_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: "\"V_children\".value:\"name\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 05370aee-ef17-4b15-843e-77233c205c8d
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: STRING
        description: ""
        name: CITIESLIVED_CITYNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: "\"V_citiesLived\".value:\"cityName\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: d0950de0-c53f-4725-bb9f-3d78f0eebf67
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: STRING
        description: ""
        name: CITIESLIVED_YEARSLIVED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: "\"V_citiesLived_yearsLived\".value::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: a06becc1-79b0-40ac-8352-23892d3db780
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: STRING
        description: ""
        name: FULLNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: "\"JSON_DEMO\".\"V\":\"fullName\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 6e5684c0-fe51-4bf0-be57-dbf74097c6d8
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: STRING
        description: ""
        name: GENDER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: "\"JSON_DEMO\".\"V\":\"gender\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 19993f09-b20a-409f-bd00-fc32bd0ebe21
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: STRING
        description: ""
        name: PHONENUMBER_AREACODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: "\"JSON_DEMO\".\"V\":\"phoneNumber\".\"areaCode\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: dfd84fe0-1c50-499a-a0b6-25e2fc85e3ed
          stepCounter: bcb42110-db35-412b-882d-55d2a3447827
        config: {}
        dataType: STRING
        description: ""
        name: PHONENUMBER_SUBSCRIBERNUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: b036014b-aff6-42c7-9050-9b3ff1de7327
                stepCounter: 42b9d3b6-f077-46a1-b1e0-b6e121d80e52
            transform: "\"JSON_DEMO\".\"V\":\"phoneNumber\".\"subscriberNumber\"::STRING"
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DEMO
            nodeName: JSON_DEMO
        join:
          joinCondition: |-
            FROM {{ ref('DEMO', 'JSON_DEMO') }} "JSON_DEMO", 
            lateral flatten(input => "V":"children", OUTER => TRUE) "V_children", 
            lateral flatten(input => "V":"citiesLived", OUTER => TRUE) "V_citiesLived", 
            lateral flatten(input => "V_citiesLived".value:"yearsLived", OUTER => TRUE) "V_citiesLived_yearsLived"
        name: WRK_JSON_DEMO
        noLinkRefs: []
  name: WRK_JSON_DEMO
  overrideSQL: false
  schema: ""
  sqlType: Base-Node-Types:::204
  type: sql
  version: 1
type: Node
