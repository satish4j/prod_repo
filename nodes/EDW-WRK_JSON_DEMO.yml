fileVersion: 1
id: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
name: WRK_JSON_DEMO
operation:
  config:
    groupByAll: false
    insertStrategy: INSERT
    orderby: false
    orderbycolumn:
      items:
        - {}
    postSQL: ""
    preSQL: ""
    selectDistinct: false
    testsEnabled: false
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: EDW
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 06e072ff-c55b-4d74-ab1b-4303058617c6
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: VARIANT
        description: ""
        name: V
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: d20a11b8-2d51-4754-a3d6-ee751fd46f79
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: DOUBLE
        description: ""
        name: AGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: "\"JSON_DEMO\".\"V\":\"age\"::DOUBLE"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 5fd14f54-1f86-49ca-b0d7-3a2b0f200b79
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: STRING
        description: ""
        name: CHILDREN_AGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: "\"V_children\".value:\"age\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: af130bf2-4a83-413f-99f3-8ef9a882d005
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: STRING
        description: ""
        name: CHILDREN_GENDER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: "\"V_children\".value:\"gender\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: ac51b2cb-0c4c-4578-a8a4-6a33b9042d05
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: STRING
        description: ""
        name: CHILDREN_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: "\"V_children\".value:\"name\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 3c871914-8f8e-4a38-bdb9-4d1c7601f4fe
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: STRING
        description: ""
        name: CITIESLIVED_CITYNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: "\"V_citiesLived\".value:\"cityName\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: d59f3098-37a3-49e0-b37b-5e2603b3449f
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: STRING
        description: ""
        name: CITIESLIVED_YEARSLIVED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: "\"V_citiesLived_yearsLived\".value::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 91894705-b1e9-438f-82c6-99a2d79c52b0
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: STRING
        description: ""
        name: FULLNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: "\"JSON_DEMO\".\"V\":\"fullName\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 4a25d6bf-da5f-4950-8202-67a549460cd8
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: STRING
        description: ""
        name: GENDER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: "\"JSON_DEMO\".\"V\":\"gender\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 7ced3ff5-aed5-422c-a49b-acc5a7a1b6b8
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: STRING
        description: ""
        name: PHONENUMBER_AREACODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: "\"JSON_DEMO\".\"V\":\"phoneNumber\".\"areaCode\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 5fad3438-e855-48f1-b682-23b5c7459253
          stepCounter: 1ddac2f8-32bc-4109-9033-188bb5a0ad1c
        config: {}
        dataType: STRING
        description: ""
        name: PHONENUMBER_SUBSCRIBERNUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: 86a98927-45dd-418f-9cb9-a77073f3876c
                stepCounter: 05083200-2a5f-48cf-ac7c-d07c482e5d11
            transform: "\"JSON_DEMO\".\"V\":\"phoneNumber\".\"subscriberNumber\"::STRING"
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DEMO
            nodeName: JSON_DEMO
        join:
          joinCondition: |-
            FROM {{ ref('DEMO', 'JSON_DEMO') }} "JSON_DEMO", 
            lateral flatten(input => "V":"children", OUTER => TRUE) "V_children", 
            lateral flatten(input => "V":"citiesLived", OUTER => TRUE) "V_citiesLived", 
            lateral flatten(input => "V_citiesLived".value:"yearsLived", OUTER => TRUE) "V_citiesLived_yearsLived"
        name: WRK_JSON_DEMO
        noLinkRefs: []
  name: WRK_JSON_DEMO
  overrideSQL: false
  schema: ""
  sqlType: Base-Node-Types:::204
  type: sql
  version: 1
type: Node
