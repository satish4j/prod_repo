fileVersion: 1
id: 65764a26-46b1-4d95-8108-992658572ed4
name: WRK_JSON_DEMO
operation:
  config:
    groupByAll: false
    insertStrategy: INSERT
    orderby: false
    orderbycolumn:
      items:
        - {}
    postSQL: ""
    preSQL: ""
    selectDistinct: false
    testsEnabled: false
    truncateBefore: true
  database: ""
  deployEnabled: true
  description: ""
  isMultisource: false
  locationName: EDW
  materializationType: table
  metadata:
    appliedNodeTests: []
    columns:
      - appliedColumnTests: {}
        columnReference:
          columnCounter: 68a39960-b410-451e-b968-2377ac2b8bf9
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: VARIANT
        description: ""
        name: V
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: ""
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 45aa1135-e18d-4db8-91fd-e5e2aabce243
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: DOUBLE
        description: ""
        name: AGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: "\"JSON_DEMO\".\"V\":\"age\"::DOUBLE"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 60b8e3cf-bf1d-4655-bbee-5ec0660687e5
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: STRING
        description: ""
        name: CHILDREN_AGE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: "\"V_children\".value:\"age\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: ba76bbb6-44aa-4f43-8fe4-563dabb9d2d1
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: STRING
        description: ""
        name: CHILDREN_GENDER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: "\"V_children\".value:\"gender\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 06531819-bfb4-453f-b41d-a90935f836ed
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: STRING
        description: ""
        name: CHILDREN_NAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: "\"V_children\".value:\"name\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 2b293c58-c498-4835-9ab2-6e534a0f08cb
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: STRING
        description: ""
        name: CITIESLIVED_CITYNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: "\"V_citiesLived\".value:\"cityName\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: afbb55e2-7e0d-4753-b916-de34fae6fe67
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: STRING
        description: ""
        name: CITIESLIVED_YEARSLIVED
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: "\"V_citiesLived_yearsLived\".value::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: d868ac2d-a07b-41de-b0d9-5d5037f26d28
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: STRING
        description: ""
        name: FULLNAME
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: "\"JSON_DEMO\".\"V\":\"fullName\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: e3e8c7c3-f0bb-4b48-aa76-e3cc08615951
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: STRING
        description: ""
        name: GENDER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: "\"JSON_DEMO\".\"V\":\"gender\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 5c0e45cf-952f-4f7d-9441-89ba6540e94e
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: STRING
        description: ""
        name: PHONENUMBER_AREACODE
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: "\"JSON_DEMO\".\"V\":\"phoneNumber\".\"areaCode\"::STRING"
      - acceptedValues:
          strictMatch: true
          values: []
        appliedColumnTests: {}
        columnReference:
          columnCounter: 5e5395a6-2af7-4a73-9ef1-fce416be28a3
          stepCounter: 65764a26-46b1-4d95-8108-992658572ed4
        config: {}
        dataType: STRING
        description: ""
        name: PHONENUMBER_SUBSCRIBERNUMBER
        nullable: true
        sourceColumnReferences:
          - columnReferences:
              - columnCounter: a5a08c0c-9a24-46b8-93fa-59e88974719e
                stepCounter: 14d8259c-11e5-4f0f-94c3-f3e6aa52193a
            transform: "\"JSON_DEMO\".\"V\":\"phoneNumber\".\"subscriberNumber\"::STRING"
    cteString: ""
    enabledColumnTestIDs: []
    sourceMapping:
      - aliases: {}
        customSQL:
          customSQL: ""
        dependencies:
          - locationName: DEMO
            nodeName: JSON_DEMO
        join:
          joinCondition: |-
            FROM {{ ref('DEMO', 'JSON_DEMO') }} "JSON_DEMO", 
            lateral flatten(input => "V":"children", OUTER => TRUE) "V_children", 
            lateral flatten(input => "V":"citiesLived", OUTER => TRUE) "V_citiesLived", 
            lateral flatten(input => "V_citiesLived".value:"yearsLived", OUTER => TRUE) "V_citiesLived_yearsLived"
        name: WRK_JSON_DEMO
        noLinkRefs: []
  name: WRK_JSON_DEMO
  overrideSQL: false
  schema: ""
  sqlType: Base-Node-Types:::204
  type: sql
  version: 1
type: Node
